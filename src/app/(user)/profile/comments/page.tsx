'use client';
import BackPrevPage from '@/components/common/BackPrevPage';
import CardComment from '@/components/profile/CardComment';
import EmptyComments from '@/components/profile/EmptyComments';
import { useComments } from '@/hooks/comments/useComments';
import { Spinner } from '@heroui/react';
import React from 'react';

const Page = () => {
  const { data, isPending } = useComments();
  const comments: [] = data?.data?.data?.comments;

  return (
    <div className="space-y-4 rounded-2xl border-[#E4E7E9] lg:mb-10 lg:mt-5 lg:!w-full lg:border lg:bg-white lg:p-[16px] lg:pt-0">
      <BackPrevPage title="دیدگاه‌های من" />
      <div className="hidden items-center gap-3 lg:flex">
        <span>
          <svg
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15.9998 2.66797C14.2489 2.66797 12.515 3.01285 10.8974 3.68291C9.2797 4.35297 7.80985 5.3351 6.57173 6.57321C4.07125 9.0737 2.66649 12.4651 2.66649 16.0013C2.65483 19.0801 3.72088 22.066 5.67982 24.4413L3.01315 27.108C2.82814 27.2955 2.70282 27.5336 2.65298 27.7922C2.60315 28.0509 2.63105 28.3185 2.73315 28.5613C2.8439 28.8012 3.02343 29.0028 3.24895 29.1405C3.47447 29.2782 3.73582 29.3458 3.99982 29.3346H15.9998C19.536 29.3346 22.9274 27.9299 25.4279 25.4294C27.9284 22.9289 29.3332 19.5375 29.3332 16.0013C29.3332 12.4651 27.9284 9.0737 25.4279 6.57321C22.9274 4.07273 19.536 2.66797 15.9998 2.66797ZM15.9998 26.668H7.21315L8.45316 25.428C8.70149 25.1782 8.84088 24.8402 8.84088 24.488C8.84088 24.1357 8.70149 23.7978 8.45316 23.548C6.70727 21.804 5.62005 19.5087 5.37674 17.053C5.13343 14.5974 5.74908 12.1333 7.11879 10.0807C8.4885 8.02802 10.5275 6.51378 12.8885 5.79593C15.2495 5.07809 17.7863 5.20104 20.0668 6.14385C22.3473 7.08667 24.2303 8.791 25.3951 10.9665C26.5599 13.142 26.9343 15.654 26.4547 18.0746C25.975 20.4953 24.6709 22.6747 22.7645 24.2416C20.8582 25.8085 18.4675 26.666 15.9998 26.668ZM22.6665 14.668H9.33315C8.97953 14.668 8.64039 14.8084 8.39035 15.0585C8.1403 15.3085 7.99982 15.6477 7.99982 16.0013C7.99982 16.3549 8.1403 16.6941 8.39035 16.9441C8.64039 17.1942 8.97953 17.3346 9.33315 17.3346H22.6665C23.0201 17.3346 23.3593 17.1942 23.6093 16.9441C23.8593 16.6941 23.9998 16.3549 23.9998 16.0013C23.9998 15.6477 23.8593 15.3085 23.6093 15.0585C23.3593 14.8084 23.0201 14.668 22.6665 14.668ZM19.9998 20.0013H11.9998C11.6462 20.0013 11.3071 20.1418 11.057 20.3918C10.807 20.6419 10.6665 20.981 10.6665 21.3346C10.6665 21.6883 10.807 22.0274 11.057 22.2774C11.3071 22.5275 11.6462 22.668 11.9998 22.668H19.9998C20.3534 22.668 20.6926 22.5275 20.9426 22.2774C21.1927 22.0274 21.3332 21.6883 21.3332 21.3346C21.3332 20.981 21.1927 20.6419 20.9426 20.3918C20.6926 20.1418 20.3534 20.0013 19.9998 20.0013ZM11.9998 12.0013H19.9998C20.3534 12.0013 20.6926 11.8608 20.9426 11.6108C21.1927 11.3607 21.3332 11.0216 21.3332 10.668C21.3332 10.3143 21.1927 9.97521 20.9426 9.72516C20.6926 9.47511 20.3534 9.33464 19.9998 9.33464H11.9998C11.6462 9.33464 11.3071 9.47511 11.057 9.72516C10.807 9.97521 10.6665 10.3143 10.6665 10.668C10.6665 11.0216 10.807 11.3607 11.057 11.6108C11.3071 11.8608 11.6462 12.0013 11.9998 12.0013Z"
              fill="#6E3DFF"
            />
          </svg>
        </span>
        <p className="hidden font-medium text-[24px] text-[#33435A] lg:block lg:text-[18px]">
          دیدگاه‌های من
        </p>
      </div>

      <div className="container_page lg:!w-full">
        {isPending ? (
          <Spinner
            size="lg"
            classNames={{ circle1: 'border-b-main', circle2: 'border-b-main' }}
            className="mt-10 flex items-center justify-center lg:mt-20"
          />
        ) : Number(comments?.length) >= 1 ? (
          <div className="space-y-5">
            {comments.map((comment, idx) => (
              <CardComment comment={comment} key={idx} />
            ))}
          </div>
        ) : (
          <EmptyComments />
        )}
      </div>
    </div>
  );
};

export default Page;
