'use client';
import React from 'react';
import Button from '../common/Button';

const Share = () => {
  const currentUrl = typeof window !== 'undefined' ? window.location.href : '';

  const handleShare = async () => {
    if (navigator.share) {
      try {
        await navigator.share({
          title: document.title,
          url: currentUrl,
        });
      } catch (error) {
        console.error('Error sharing:', error);
      }
    } else {
      alert('مرورگر شما از اشتراک‌گذاری پشتیبانی نمی‌کند.');
    }
  };
  return (
    <div className="flex w-full justify-end">
      <Button onClick={handleShare} className="!mr-auto -mt-3 w-fit !min-w-fit">
        <p className="font-bold text-[12px] text-[#0B1524] dark:text-white lg:text-[16px]">
          اشتراک گذاری مطلب
        </p>
        <span>
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6 19.7246V12.5449C6 12.4124 6.05281 12.2852 6.14648 12.1914C6.24025 12.0976 6.36739 12.0449 6.5 12.0449C6.63261 12.0449 6.75975 12.0976 6.85352 12.1914C6.94719 12.2852 7 12.4124 7 12.5449L7 19.7246C7 20.1224 7.15815 20.5039 7.43945 20.7852C7.72076 21.0665 8.10218 21.2246 8.5 21.2246H19.5C19.8978 21.2246 20.2792 21.0665 20.5605 20.7852C20.8419 20.5039 21 20.1224 21 19.7246V8.72461C21 8.32679 20.8419 7.94537 20.5605 7.66406C20.2792 7.38276 19.8978 7.22461 19.5 7.22461L12.3203 7.22461C12.1878 7.22461 12.0605 7.17179 11.9668 7.07812C11.873 6.98436 11.8203 6.85722 11.8203 6.72461C11.8203 6.592 11.873 6.46486 11.9668 6.37109C12.0605 6.27742 12.1878 6.22461 12.3203 6.22461H19.5C20.163 6.22461 20.7987 6.48819 21.2676 6.95703C21.7364 7.42587 22 8.06157 22 8.72461V19.7246C22 20.3047 21.798 20.8637 21.4336 21.3086L21.2676 21.4922C20.7987 21.961 20.163 22.2246 19.5 22.2246H8.5L8.25293 22.2119C7.76244 22.1632 7.2973 21.9706 6.91602 21.6582L6.73242 21.4922C6.26358 21.0233 6 20.3877 6 19.7246ZM3 9.72461V3.73047L3.01074 3.63379L3.04004 3.54102L3.04199 3.53613C3.08013 3.44447 3.14425 3.36689 3.22559 3.3125L3.31152 3.2666L3.31641 3.26465C3.3464 3.25189 3.37743 3.24203 3.40918 3.23535L3.50586 3.22461H9.5C9.63261 3.22461 9.75975 3.27733 9.85352 3.37109C9.94728 3.46486 10 3.592 10 3.72461C10 3.85722 9.94728 3.98436 9.85352 4.07812C9.75975 4.17189 9.63261 4.22461 9.5 4.22461H4.70215L5.55664 5.07812L15.8564 15.3682L15.8574 15.3691C15.9043 15.4156 15.9424 15.4713 15.9678 15.5322C15.9931 15.5931 16.0059 15.6586 16.0059 15.7246C16.0059 15.7906 15.9931 15.8561 15.9678 15.917C15.9551 15.9475 15.9392 15.9766 15.9209 16.0039L15.8574 16.0801L15.8555 16.082L15.7793 16.1455C15.752 16.1639 15.7229 16.1797 15.6924 16.1924C15.6315 16.2177 15.566 16.2305 15.5 16.2305C15.434 16.2305 15.3685 16.2177 15.3076 16.1924C15.2771 16.1797 15.248 16.1639 15.2207 16.1455L15.1445 16.082L15.1436 16.0811L4.85352 5.78125L4 4.92676V9.72461C4 9.85722 3.94728 9.98436 3.85352 10.0781C3.75975 10.1719 3.63261 10.2246 3.5 10.2246C3.40056 10.2246 3.30419 10.195 3.22266 10.1406L3.14648 10.0781C3.05272 9.98436 3 9.85722 3 9.72461Z"
              fill="#6E3DFF"
              stroke="#6E3DFF"
            />
          </svg>
        </span>
      </Button>
    </div>
  );
};

export default Share;
