'use client';
import React from 'react';
import { Toman_Icon } from '../common/icon';
import Image from 'next/image';
import { Product } from '@/types/home';
import { BASEURL, freeShippingPrice } from '@/lib/variable';
import { discountCalculation } from '@/lib/utils';
import Counter from '../common/Counter';
import Logo from '@/../public/images/snap-logo.png';
import InfoRozClub from './InfoRozClub';
type Props = {
  hideSendDes?: boolean;
  className?: string;
  product: Product;
};
const AddCartSingleProduct = ({ hideSendDes, className, product }: Props) => {
  return (
    <>
      <div
        className={`sticky bottom-0 left-0 z-50 flex w-full flex-col lg:sticky lg:top-44 lg:!z-0 lg:w-[288px] lg:min-w-[288px] lg:gap-3 ${className}`}
      >
        {/* description buy product, fast send */}
        {!hideSendDes && (
          <div className="mb-3 hidden overflow-hidden rounded-lg border border-[#E4E7E9] lg:block">
            <div className="flex items-center gap-1 rounded-br-2xl bg-main p-2 text-white">
              <span>
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M9.25875 2.32623C10.6537 1.71998 12.2756 1.66185 13.7125 2.15935C15.4312 2.7381 16.855 4.11873 17.4956 5.81435C17.9237 6.91435 18.0075 8.13498 17.7794 9.28998C18.5194 9.3081 19.2606 9.28435 20.0012 9.3006C20.3337 9.3006 20.6119 9.6106 20.5975 9.93873C20.6044 10.555 20.5944 11.1712 20.6 11.7881C22.0656 11.81 23.5325 11.7837 24.9988 11.8012C26.02 11.8131 27.0694 12.0475 27.9119 12.6487C28.7531 13.2362 29.3288 14.1144 29.825 14.995C30.5494 16.4456 31.2844 17.8906 32 19.345V26.4662C31.9 26.6975 31.7087 26.9187 31.44 26.9319C30.3244 26.9531 29.2069 26.9181 28.0919 26.9487C28.0969 28.1369 27.3944 29.2931 26.33 29.8231C25.245 30.3937 23.8413 30.2537 22.8856 29.4881C22.1031 28.89 21.6506 27.9219 21.6369 26.9425C18.6781 26.9331 15.7188 26.935 12.76 26.9419C12.7719 28.3431 11.7812 29.68 10.425 30.0475C9.26875 30.395 7.93937 30.0131 7.14125 29.1075C6.6 28.5237 6.31562 27.7331 6.30312 26.9419C5.34687 26.9306 4.39 26.9425 3.43313 26.9369C3.1 26.9494 2.79562 26.6506 2.80938 26.3162C2.7975 25.1587 2.82375 23.9994 2.79688 22.8425C2.05188 22.8331 1.30687 22.8544 0.5625 22.8337C0.288125 22.8206 0.09125 22.5956 0 22.3544V22.06C0.1025 21.8262 0.300625 21.605 0.57375 21.5969C1.31687 21.5762 2.06187 21.61 2.80437 21.5819C2.80813 20.6387 2.81313 19.695 2.80188 18.7519C2.3975 18.6969 1.96812 18.8187 1.57938 18.6737C1.1175 18.47 1.13437 17.7319 1.60375 17.5469C1.99063 17.4344 2.40438 17.5294 2.80125 17.4887C2.81 16.5425 2.81562 15.5944 2.79875 14.6481C2.095 14.6381 1.39062 14.6544 0.6875 14.6419C0.37125 14.6469 0.084375 14.3756 0.07 14.0606C0.040625 13.7362 0.30875 13.4181 0.635 13.4006C1.3575 13.3825 2.08125 13.4119 2.80312 13.3869C2.815 12.2362 2.8025 11.085 2.80875 9.93435C2.7875 9.5931 3.09687 9.2831 3.4375 9.29873C4.16437 9.28935 4.89125 9.30123 5.61812 9.29435C5.41937 8.22435 5.46187 7.10248 5.81563 6.0681C6.36188 4.40623 7.64937 3.00998 9.25875 2.32623ZM11.1556 3.10373C9.44313 3.27873 7.87875 4.42435 7.18313 5.99685C6.535 7.41123 6.61562 9.13248 7.3975 10.4781C8.26875 12.0331 10.0281 13.0412 11.8131 12.9794C13.7069 12.9612 15.5087 11.7375 16.2463 9.99748C16.8787 8.56248 16.77 6.82623 15.9513 5.48685C14.9956 3.8481 13.0406 2.86998 11.1556 3.10373ZM4.05937 10.5512C4.05 11.4975 4.05062 12.4437 4.05937 13.39C4.51875 13.4069 4.97937 13.3875 5.43937 13.3975C5.75812 13.3937 6.04312 13.6825 6.04187 14.0006C6.06312 14.3344 5.77 14.6412 5.43625 14.6406C4.98125 14.6544 4.52562 14.6406 4.07062 14.6456C4.03562 15.5925 4.05687 16.5437 4.06 17.4919C5.3525 17.5006 6.64562 17.4912 7.93875 17.4962C8.27938 17.4737 8.59375 17.785 8.57563 18.125C8.5825 18.4606 8.27563 18.7544 7.94187 18.74C6.6475 18.7481 5.3525 18.7325 4.05875 18.7475C4.05063 19.6931 4.05063 20.6394 4.05875 21.5844C4.60188 21.6181 5.15188 21.5525 5.69187 21.6175C6.2525 21.7494 6.28438 22.6306 5.73438 22.8006C5.19 22.8912 4.6275 22.8194 4.07625 22.8394C4.0275 23.7837 4.06188 24.7362 4.05875 25.6837C4.89188 25.69 5.72563 25.6906 6.55875 25.6837C7.06875 24.5212 8.2825 23.7 9.56188 23.7325C10.8212 23.7212 12.0025 24.54 12.5044 25.6831C14.7863 25.6862 17.07 25.6994 19.3512 25.6762C19.3456 20.6444 19.3519 15.6125 19.3481 10.5806C18.7138 10.5044 18.0312 10.5594 17.3794 10.5525C16.7769 11.83 15.7712 12.9287 14.4987 13.5612C13.1425 14.2562 11.525 14.4144 10.0575 14.0075C8.2975 13.5325 6.79063 12.2337 6.045 10.5725C5.39375 10.5137 4.71937 10.5556 4.05937 10.5512ZM20.6063 13.0519C20.5931 17.2625 20.5956 21.4744 20.605 25.6856C21.04 25.6769 21.4831 25.7144 21.9137 25.6669C22.5156 24.2187 24.2575 23.3906 25.7594 23.8556C26.6756 24.115 27.4513 24.8062 27.8281 25.6787C28.8006 25.6969 29.7744 25.6856 30.7469 25.6844C30.75 24.94 30.7563 24.195 30.7437 23.4506C30.28 23.425 29.805 23.5012 29.3487 23.405C28.8225 23.2325 28.8337 22.3931 29.3669 22.2381C29.8181 22.1494 30.2881 22.2294 30.7463 22.195C30.7531 21.4987 30.7506 20.8025 30.7475 20.1056C29.1844 20.0869 27.6206 20.115 26.0575 20.0919C24.3856 20.02 22.915 18.5919 22.7938 16.9231C22.7513 15.6337 22.7969 14.3419 22.7694 13.0519C22.0487 13.0419 21.3269 13.0419 20.6063 13.0519ZM24.0281 13.0819C24.0281 14.285 24.0225 15.4887 24.0306 16.6919C24.0475 17.8044 25.0125 18.7944 26.1231 18.8444C27.5338 18.8587 28.945 18.8437 30.3563 18.8519C29.8213 17.7587 29.2662 16.6756 28.7237 15.5869C28.215 14.6662 27.5712 13.7125 26.5444 13.3269C25.7494 13.0281 24.8469 12.9975 24.0281 13.0819ZM9.08625 25.0319C8.06188 25.2444 7.35125 26.3644 7.60625 27.3819C7.81 28.405 8.92063 29.1256 9.93875 28.8825C10.9925 28.6881 11.7319 27.5319 11.4494 26.4937C11.2325 25.4681 10.1025 24.7681 9.08625 25.0319ZM24.4562 25.0244C23.4425 25.2181 22.7119 26.3 22.93 27.3131C23.0969 28.3594 24.2144 29.1237 25.25 28.8862C26.3088 28.7087 27.0556 27.5575 26.7913 26.5162C26.5831 25.4937 25.4744 24.7812 24.4562 25.0244Z"
                    fill="white"
                  />
                  <path
                    d="M11.079 5.06014C11.0765 4.73702 11.3671 4.45014 11.689 4.45202C12.0227 4.43327 12.3271 4.72889 12.3233 5.06202C12.3365 5.84264 12.3146 6.62452 12.3333 7.40577C12.659 7.41014 12.9852 7.39327 13.3108 7.41139C13.6215 7.44264 13.874 7.74264 13.8508 8.05452C13.8452 8.36952 13.5658 8.65014 13.2483 8.65014C12.729 8.65764 12.209 8.65639 11.6896 8.65077C11.3515 8.65389 11.0583 8.34077 11.0777 8.00452C11.0771 7.02327 11.074 6.04139 11.079 5.06014Z"
                    fill="#F472C0"
                  />
                  <path
                    d="M9.39861 26.3414C9.81299 26.2395 10.2349 26.6439 10.1449 27.0626C10.0836 27.5382 9.42611 27.7482 9.09736 27.402C8.73361 27.087 8.92736 26.4214 9.39861 26.3414Z"
                    fill="#F472C0"
                  />
                  <path
                    d="M24.7705 26.3364C25.0561 26.2883 25.3611 26.4645 25.4517 26.742C25.5999 27.0989 25.3249 27.5401 24.9411 27.5701C24.5792 27.6289 24.2192 27.3014 24.2455 26.9364C24.2405 26.6414 24.483 26.3789 24.7705 26.3364Z"
                    fill="#F472C0"
                  />
                </svg>
              </span>
              <p className="font-regular text-[14px]">
                ارسال رایگان (سفارش بالای
                <span>{Number(freeShippingPrice).toLocaleString()} تومان </span> )
              </p>
            </div>
            <div className="mt-2 flex items-center gap-2 p-2">
              <span>
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0_1624_6372)">
                    <path
                      d="M18.7388 0.00012207H19.0694C23.2412 2.28325 27.4056 4.57887 31.5763 6.86325C31.7588 6.95325 31.8906 7.11075 32 7.27762V11.9676C31.8375 12.5801 30.8606 12.5782 30.7669 11.932C30.7237 10.8007 30.7663 9.66512 30.7469 8.53262C29.5481 9.18075 28.3556 9.84075 27.1612 10.4982C27.1544 11.792 27.1644 13.0857 27.1575 14.3789C27.1719 14.6532 26.9856 14.8845 26.7475 14.9982C25.87 15.472 25.0037 15.9676 24.1225 16.4332C23.7375 16.6395 23.2256 16.3114 23.2444 15.8776C23.2281 14.8051 23.2475 13.7314 23.2362 12.6589C21.9994 13.3251 20.77 14.0051 19.54 14.6845C19.54 18.7664 19.5344 22.8482 19.5431 26.9301C23.285 24.9014 27.005 22.8301 30.7431 20.7945C30.7625 19.4657 30.7394 18.1364 30.7537 16.8076C30.7419 16.4301 31.1262 16.1151 31.4937 16.1989C31.7375 16.2364 31.8988 16.4445 32 16.652V21.3439C31.8169 21.6845 31.4475 21.8282 31.1281 22.0045C27.1744 24.1757 23.2206 26.3464 19.2675 28.517C19.0619 28.6414 18.8006 28.6595 18.5912 28.5332C17.7 28.0495 16.8144 27.5545 15.9225 27.0714C14.9812 29.1564 13.1663 30.8301 10.9931 31.5557C10.335 31.7932 9.64 31.8895 8.9525 32.0001H7.67812C6.62687 31.857 5.56938 31.6282 4.62563 31.127C4.285 30.9489 4.21375 30.4426 4.48375 30.172C4.68687 29.9345 5.045 29.9282 5.30438 30.0739C7.17938 30.9745 9.45438 30.9707 11.3294 30.0732C13.0931 29.252 14.4825 27.6664 15.0581 25.807C15.555 24.2339 15.4788 22.4864 14.8425 20.9645C14.1312 19.247 12.7137 17.837 10.9913 17.1389C9.1375 16.377 6.95813 16.4526 5.1675 17.3551C3.39062 18.2357 2.01625 19.8951 1.50312 21.8132C1.055 23.4214 1.20563 25.1882 1.92625 26.6951C2.06063 26.9426 2.07 27.2751 1.86 27.4845C1.59812 27.7857 1.05875 27.7314 0.8725 27.3751C0.37 26.4339 0.14125 25.3782 0 24.3295V22.997C0.10125 22.4764 0.155625 21.9464 0.309375 21.4376C1.035 18.7726 3.18438 16.5601 5.8225 15.747C5.83125 12.977 5.81562 10.2064 5.83 7.43637C5.83 7.02262 6.26063 6.85887 6.56563 6.69262C10.6231 4.46137 14.6875 2.24262 18.7388 0.00012207ZM18.7869 1.40637C17.6631 2.02825 16.535 2.64137 15.4119 3.26325C19.1119 5.33575 22.8431 7.35762 26.5606 9.40012C27.7281 8.752 28.9088 8.12762 30.0669 7.46262C26.4569 5.47637 22.8425 3.49887 19.2337 1.51012C19.0944 1.447 18.9406 1.28887 18.7869 1.40637ZM13.9819 4.04762C13.56 4.28012 13.1325 4.50262 12.7188 4.75012C16.4263 6.8095 20.15 8.84075 23.8687 10.8789C24.3269 10.6232 24.7919 10.3801 25.2456 10.1164C21.6012 8.09325 17.9375 6.10512 14.2894 4.08887C14.1956 4.0345 14.0838 3.96825 13.9819 4.04762ZM11.1606 5.592C10.03 6.227 8.88313 6.83387 7.75375 7.472C11.4325 9.4895 15.1094 11.5089 18.7856 13.5301C18.8625 13.5851 18.9581 13.5907 19.0356 13.5332C20.2106 12.8889 21.3831 12.2414 22.5588 11.5982C18.8894 9.56325 15.2019 7.55825 11.5275 5.532C11.4056 5.43012 11.2731 5.53325 11.1606 5.592ZM7.07625 8.5345C7.07188 10.8401 7.07625 13.1451 7.07438 15.4501C8.25875 15.2976 9.47625 15.3545 10.6256 15.6901C13.1631 16.4064 15.2881 18.4114 16.1575 20.9001C16.7256 22.4895 16.7712 24.2451 16.3475 25.8745C16.9931 26.232 17.6394 26.5882 18.2887 26.9395C18.2913 22.897 18.2869 18.8539 18.2906 14.8114C18.3225 14.6664 18.1612 14.6182 18.0662 14.5557C14.3988 12.557 10.7487 10.5245 7.07625 8.5345ZM24.5138 11.9582C24.4575 12.9026 24.5006 13.8582 24.4931 14.807C24.9669 14.5532 25.4369 14.292 25.9081 14.0326C25.9112 13.0845 25.9088 12.1364 25.91 11.1882C25.4425 11.4414 24.9706 11.6876 24.5138 11.9582Z"
                      fill="#9D1757"
                    />
                    <path
                      d="M31.1169 13.7401C31.4694 13.5658 31.8713 13.8064 31.9994 14.1508V14.467C31.8669 14.8445 31.3913 15.0783 31.0413 14.8345C30.6257 14.5983 30.6751 13.9176 31.1169 13.7401Z"
                      fill="#F472C0"
                    />
                    <path
                      d="M5.75666 20.2595C5.96166 20.0357 6.32791 19.9901 6.57354 20.1726C6.84854 20.3539 6.92416 20.7714 6.72541 21.0351C6.57791 21.2232 6.39354 21.3789 6.23416 21.557C7.48916 21.5664 8.74416 21.5551 9.99854 21.562C10.9879 21.5757 11.9385 22.157 12.4179 23.0195C12.9242 23.8914 12.9129 25.0332 12.3892 25.8951C11.9023 26.732 10.9698 27.282 10.0017 27.3039C9.24916 27.3151 8.49604 27.3114 7.74416 27.307C7.40916 27.3182 7.09729 27.0264 7.10604 26.6882C7.09479 26.3739 7.36416 26.0739 7.68104 26.0657C8.49354 26.0407 9.30854 26.087 10.121 26.0432C11.0023 25.9564 11.6804 25.0539 11.5235 24.1826C11.4179 23.4226 10.7085 22.797 9.93666 22.8107C8.70354 22.812 7.47041 22.8051 6.23666 22.8145C6.47604 23.0926 6.88416 23.3276 6.83416 23.7495C6.80541 24.217 6.18416 24.4845 5.83104 24.1695C5.30479 23.6764 4.80541 23.1526 4.29354 22.6439C4.03104 22.4076 4.02479 21.9632 4.28916 21.7264C4.77729 21.2364 5.26541 20.7457 5.75666 20.2595Z"
                      fill="#F472C0"
                    />
                    <path
                      d="M2.70298 28.5214C3.02423 28.4189 3.39548 28.6276 3.47923 28.9533C3.5736 29.2595 3.38673 29.6114 3.0836 29.7114C2.77298 29.8301 2.3986 29.6432 2.2911 29.3326C2.1611 29.0083 2.36923 28.6114 2.70298 28.5214Z"
                      fill="#F472C0"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1624_6372">
                      <rect width="32" height="32" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </span>
              <span className="font-medium text-[14px] text-[#616A76]">ضمانت بازگشت کالا</span>
            </div>
            <div className="flex items-center gap-2 p-2">
              <span>
                <svg
                  width="32"
                  height="32"
                  viewBox="0 0 32 32"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0_1624_30902)">
                    <path
                      d="M9.25875 2.32623C10.6537 1.71998 12.2756 1.66185 13.7125 2.15935C15.4312 2.7381 16.855 4.11873 17.4956 5.81435C17.9237 6.91435 18.0075 8.13498 17.7794 9.28998C18.5194 9.3081 19.2606 9.28435 20.0012 9.3006C20.3337 9.3006 20.6119 9.6106 20.5975 9.93873C20.6044 10.555 20.5944 11.1712 20.6 11.7881C22.0656 11.81 23.5325 11.7837 24.9988 11.8012C26.02 11.8131 27.0694 12.0475 27.9119 12.6487C28.7531 13.2362 29.3288 14.1144 29.825 14.995C30.5494 16.4456 31.2844 17.8906 32 19.345V26.4662C31.9 26.6975 31.7088 26.9187 31.44 26.9319C30.3244 26.9531 29.2069 26.9181 28.0919 26.9487C28.0969 28.1369 27.3944 29.2931 26.33 29.8231C25.245 30.3937 23.8413 30.2537 22.8856 29.4881C22.1031 28.89 21.6506 27.9219 21.6369 26.9425C18.6781 26.9331 15.7188 26.935 12.76 26.9419C12.7719 28.3431 11.7813 29.68 10.425 30.0475C9.26875 30.395 7.93938 30.0131 7.14125 29.1075C6.6 28.5237 6.31562 27.7331 6.30312 26.9419C5.34687 26.9306 4.39 26.9425 3.43313 26.9369C3.1 26.9494 2.79563 26.6506 2.80938 26.3162C2.7975 25.1587 2.82375 23.9994 2.79688 22.8425C2.05187 22.8331 1.30687 22.8544 0.5625 22.8337C0.288125 22.8206 0.09125 22.5956 0 22.3544V22.06C0.1025 21.8262 0.300625 21.605 0.57375 21.5969C1.31688 21.5762 2.06187 21.61 2.80437 21.5819C2.80812 20.6387 2.81313 19.695 2.80188 18.7519C2.3975 18.6969 1.96813 18.8187 1.57938 18.6737C1.1175 18.47 1.13437 17.7319 1.60375 17.5469C1.99062 17.4344 2.40437 17.5294 2.80125 17.4887C2.81 16.5425 2.81562 15.5944 2.79875 14.6481C2.095 14.6381 1.39062 14.6544 0.6875 14.6419C0.37125 14.6469 0.084375 14.3756 0.07 14.0606C0.040625 13.7362 0.30875 13.4181 0.635 13.4006C1.3575 13.3825 2.08125 13.4119 2.80312 13.3869C2.815 12.2362 2.8025 11.085 2.80875 9.93435C2.7875 9.5931 3.09688 9.2831 3.4375 9.29873C4.16438 9.28935 4.89125 9.30123 5.61812 9.29435C5.41937 8.22435 5.46188 7.10248 5.81563 6.0681C6.36188 4.40623 7.64937 3.00998 9.25875 2.32623ZM11.1556 3.10373C9.44313 3.27873 7.87875 4.42435 7.18313 5.99685C6.535 7.41123 6.61563 9.13248 7.3975 10.4781C8.26875 12.0331 10.0281 13.0412 11.8131 12.9794C13.7069 12.9612 15.5088 11.7375 16.2463 9.99748C16.8788 8.56248 16.77 6.82623 15.9513 5.48685C14.9956 3.8481 13.0406 2.86998 11.1556 3.10373ZM4.05937 10.5512C4.05 11.4975 4.05062 12.4437 4.05937 13.39C4.51875 13.4069 4.97937 13.3875 5.43937 13.3975C5.75812 13.3937 6.04312 13.6825 6.04187 14.0006C6.06312 14.3344 5.77 14.6412 5.43625 14.6406C4.98125 14.6544 4.52562 14.6406 4.07062 14.6456C4.03562 15.5925 4.05687 16.5437 4.06 17.4919C5.3525 17.5006 6.64562 17.4912 7.93875 17.4962C8.27937 17.4737 8.59375 17.785 8.57563 18.125C8.5825 18.4606 8.27562 18.7544 7.94187 18.74C6.6475 18.7481 5.3525 18.7325 4.05875 18.7475C4.05063 19.6931 4.05063 20.6394 4.05875 21.5844C4.60188 21.6181 5.15187 21.5525 5.69187 21.6175C6.2525 21.7494 6.28438 22.6306 5.73438 22.8006C5.19 22.8912 4.6275 22.8194 4.07625 22.8394C4.0275 23.7837 4.06188 24.7362 4.05875 25.6837C4.89188 25.69 5.72563 25.6906 6.55875 25.6837C7.06875 24.5212 8.2825 23.7 9.56188 23.7325C10.8213 23.7212 12.0025 24.54 12.5044 25.6831C14.7863 25.6862 17.07 25.6994 19.3512 25.6762C19.3456 20.6444 19.3519 15.6125 19.3481 10.5806C18.7138 10.5044 18.0313 10.5594 17.3794 10.5525C16.7769 11.83 15.7712 12.9287 14.4987 13.5612C13.1425 14.2562 11.525 14.4144 10.0575 14.0075C8.2975 13.5325 6.79063 12.2337 6.045 10.5725C5.39375 10.5137 4.71937 10.5556 4.05937 10.5512ZM20.6063 13.0519C20.5931 17.2625 20.5956 21.4744 20.605 25.6856C21.04 25.6769 21.4831 25.7144 21.9137 25.6669C22.5156 24.2187 24.2575 23.3906 25.7594 23.8556C26.6756 24.115 27.4512 24.8062 27.8281 25.6787C28.8006 25.6969 29.7744 25.6856 30.7469 25.6844C30.75 24.94 30.7562 24.195 30.7437 23.4506C30.28 23.425 29.805 23.5012 29.3487 23.405C28.8225 23.2325 28.8337 22.3931 29.3669 22.2381C29.8181 22.1494 30.2881 22.2294 30.7463 22.195C30.7531 21.4987 30.7506 20.8025 30.7475 20.1056C29.1844 20.0869 27.6206 20.115 26.0575 20.0919C24.3856 20.02 22.915 18.5919 22.7938 16.9231C22.7513 15.6337 22.7969 14.3419 22.7694 13.0519C22.0487 13.0419 21.3269 13.0419 20.6063 13.0519ZM24.0281 13.0819C24.0281 14.285 24.0225 15.4887 24.0306 16.6919C24.0475 17.8044 25.0125 18.7944 26.1231 18.8444C27.5338 18.8587 28.945 18.8437 30.3563 18.8519C29.8213 17.7587 29.2662 16.6756 28.7237 15.5869C28.215 14.6662 27.5712 13.7125 26.5444 13.3269C25.7494 13.0281 24.8469 12.9975 24.0281 13.0819ZM9.08625 25.0319C8.06188 25.2444 7.35125 26.3644 7.60625 27.3819C7.81 28.405 8.92063 29.1256 9.93875 28.8825C10.9925 28.6881 11.7319 27.5319 11.4494 26.4937C11.2325 25.4681 10.1025 24.7681 9.08625 25.0319ZM24.4562 25.0244C23.4425 25.2181 22.7119 26.3 22.93 27.3131C23.0969 28.3594 24.2144 29.1237 25.25 28.8862C26.3088 28.7087 27.0556 27.5575 26.7913 26.5162C26.5831 25.4937 25.4744 24.7812 24.4562 25.0244Z"
                      fill="#9D1757"
                    />
                    <path
                      d="M11.079 5.06002C11.0765 4.7369 11.3671 4.45002 11.689 4.4519C12.0227 4.43315 12.3271 4.72877 12.3233 5.0619C12.3365 5.84252 12.3146 6.6244 12.3333 7.40565C12.659 7.41002 12.9852 7.39315 13.3108 7.41127C13.6215 7.44252 13.874 7.74252 13.8508 8.0544C13.8452 8.3694 13.5658 8.65002 13.2483 8.65002C12.729 8.65752 12.209 8.65627 11.6896 8.65065C11.3515 8.65377 11.0583 8.34065 11.0777 8.0044C11.0771 7.02315 11.074 6.04127 11.079 5.06002Z"
                      fill="#F472C0"
                    />
                    <path
                      d="M9.39861 26.3412C9.81299 26.2394 10.2349 26.6437 10.1449 27.0625C10.0836 27.5381 9.42611 27.7481 9.09736 27.4019C8.73361 27.0869 8.92736 26.4212 9.39861 26.3412Z"
                      fill="#F472C0"
                    />
                    <path
                      d="M24.7705 26.3363C25.0561 26.2881 25.3611 26.4644 25.4517 26.7419C25.5999 27.0988 25.3249 27.54 24.9411 27.57C24.5792 27.6288 24.2192 27.3013 24.2455 26.9363C24.2405 26.6413 24.483 26.3788 24.7705 26.3363Z"
                      fill="#F472C0"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1624_30902">
                      <rect width="32" height="32" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </span>
              <span className="font-medium text-[14px] text-[#616A76]">تحویل سریع</span>
            </div>
          </div>
        )}
        {/* factor */}

        {product.count >= 1 && (
          <SnapPayDescription
            price={product.discountPrice ? product.discountPrice / 4 : product.price / 4}
            className="flex w-full bg-[#eff6ff] px-4 py-2 pt-3 lg:hidden"
          />
        )}

        <div className="border-t border-[#E4E7E9] bg-white p-2 lg:rounded-lg lg:border lg:bg-[#F5F6FA]">
          {hideSendDes && (
            <div className="hidden items-center gap-3 border-b border-[#E4E7E9] pb-5 lg:flex">
              <Image
                className="rounded-xl"
                width={64}
                height={64}
                src={`${BASEURL}/${product?.thumbnailImage?.url}`}
                alt=""
              />
              <p className="font-medium text-xs text-[#616A76]">{product?.title}</p>
            </div>
          )}
          {/* count roz-club */}
          <div className="hidden items-center gap-2 border-b border-[#E4E7E9] py-3 lg:flex">
            <p className="flex items-center gap-1">
              <span>
                <svg
                  width="32"
                  height="33"
                  viewBox="0 0 32 33"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M12.5047 17.4145C12.3127 17.5892 12.0713 17.6759 11.8313 17.6759C11.5593 17.6759 11.2887 17.5652 11.0913 17.3492L8.66068 14.6825C8.28868 14.2745 8.31801 13.6412 8.72601 13.2705C9.13268 12.8958 9.76601 12.9265 10.1393 13.3345L12.57 16.0012C12.942 16.4105 12.9127 17.0425 12.5047 17.4145ZM28.0953 12.2612L24.174 6.5025C23.5647 5.60117 22.5513 5.0625 21.462 5.0625H10.546C9.45801 5.0625 8.44468 5.60115 7.83668 6.49982L3.90201 12.2612C3.04735 13.5145 3.16334 15.1852 4.18601 16.3252L13.9273 27.0185C14.4567 27.6012 15.2113 27.9359 15.998 27.9359C16.7847 27.9359 17.5393 27.6012 18.0673 27.0172L27.81 16.3119C28.8367 15.1865 28.954 13.5212 28.0953 12.2612Z"
                    fill="#FFA216"
                  />
                </svg>
              </span>
              <span className="font-medium text-sm">
                {product.discountPrice
                  ? Math.floor(Number(product.discountPrice) / 10000)
                  : Math.floor(Number(product.price) / 10000)}{' '}
                امتیاز رز کلاب
              </span>
            </p>
            <InfoRozClub />
          </div>
          <div className="mt-2 flex w-full flex-row-reverse items-center justify-between px-[20px] lg:mt-5 lg:flex-col lg:px-0">
            {/* discount */}
            {product.count < 1 ? null : (
              <div className="w-full">
                <div className="flex items-center justify-end gap-2">
                  {product.discountPrice ? (
                    <>
                      <p className="text-left font-regular text-[14px] text-[#616A76] line-through">
                        {Number(product.price).toLocaleString()}
                      </p>
                      <span className="flex h-[20px] w-[39px] items-center justify-center rounded-md bg-main pt-px font-medium text-[10px] text-white lg:h-[24px] lg:w-[41px] lg:text-[12px]">
                        {discountCalculation(product.discountPrice, product.price)}%
                      </span>
                    </>
                  ) : null}
                </div>
                {/* price */}

                <div className="mt-[14px] items-center lg:flex lg:justify-between">
                  <p className="hidden font-medium text-[14px] text-[#616A76] lg:block">
                    قیمت کالا
                  </p>
                  <p className="flex items-center justify-end gap-1">
                    <span className="font-bold text-[20px] text-[#0C0C0C]">
                      {product.discountPrice
                        ? product.discountPrice.toLocaleString()
                        : Number(product.price).toLocaleString()}
                    </span>
                    <Toman_Icon />
                  </p>
                </div>

                {product.count < 3 && product.count !== 0 ? (
                  <p className="hidden font-medium text-[12px] text-[#ED2E2E] lg:my-2 lg:block">
                    تنها {product.count} عدد موجود در انبار
                  </p>
                ) : null}
              </div>
            )}
            {/* btn add cart */}
            {product.count >= 1 ? (
              <Counter
                classCount="border-r border-l"
                container_Class="flex flex-col-reverse lg:flex-row items-center lg:justify-between w-full"
                classNameCounter="border mt-2 rounded-lg border w-[96px] h-[32px] justify-start lg:ml-auto"
                product={product}
                showCartLink
                showAddBasketDialog
              />
            ) : (
              <p className="mb-3 flex-1 text-center font-medium text-[#7D8793] text-opacity-70">
                ناموجود
              </p>
            )}

            {/* last update */}
            <div className="!mb-[10px] mt-4 hidden w-full items-center justify-start gap-2 lg:flex">
              <span>
                <svg
                  width="20"
                  height="21"
                  viewBox="0 0 20 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18.3327 10.5C18.3327 15.1 14.5993 18.8333 9.99935 18.8333C5.39935 18.8333 2.59102 14.2 2.59102 14.2M2.59102 14.2H6.35768M2.59102 14.2V18.3666M1.66602 10.5C1.66602 5.89996 5.36602 2.16663 9.99935 2.16663C15.5577 2.16663 18.3327 6.79996 18.3327 6.79996M18.3327 6.79996V2.63329M18.3327 6.79996H14.6327"
                    stroke="#7D8793"
                    strokeWidth="1.5"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              </span>
              <p className="font-medium text-[12px] text-[#7D8793]">
                <span>آخرین بروز رسانی:</span>
                <span>
                  {new Date(product.updatedAt!).toLocaleDateString('fa-IR', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                  })}
                </span>
              </p>
            </div>
            {product.count >= 1 && (
              <SnapPayDescription
                price={product.discountPrice ? product.discountPrice / 4 : product.price / 4}
                className="hidden lg:flex"
              />
            )}
          </div>
        </div>
      </div>
    </>
  );
};

export default AddCartSingleProduct;

export const SnapPayDescription = ({ className, price }: { className?: string; price: number }) => {
  return (
    <div className={`mt-1 items-start gap-2 bg-[#EFF6FF] ${className}`}>
      <span>
        <Image className="object-contain" src={Logo} alt="" />
      </span>
      <p className="font-regular text-[12px] text-[#008FF9]">
        ۴ قسط ماهانه {price.toLocaleString()} تومانی با اسنپ پی! (بدون کارمزد)
      </p>
    </div>
  );
};
