'use client';
import { useGetOrders } from '@/hooks/profile/useGetOrders';
import React, { useRef } from 'react';
import Button from '../common/Button';
import { useRouter } from 'next/navigation';
import { Swiper, SwiperRef, SwiperSlide } from 'swiper/react';
import 'swiper/css';
import 'swiper/css/pagination';

const RingkasanOrder = ({ className }: { className?: string }) => {
  const router = useRouter();
  const { data } = useGetOrders({ sort: '', page: '1' });
  const orderStatusCounts: { _id: string; count: number }[] = data?.data?.data?.orderStatusCounts;
  const swiperRef = useRef<SwiperRef | null>(null);

  const newArray = [
    {
      label: 'در انتظار پرداخت',
      count: orderStatusCounts?.find((item) => item._id === 'Awaiting')?.count ?? '0',
      color: '#FFA216',
      icon: (
        <svg
          width="44"
          height="44"
          viewBox="0 0 44 44"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 12C0 5.37258 5.37258 0 12 0H32C38.6274 0 44 5.37258 44 12V32C44 38.6274 38.6274 44 32 44H12C5.37258 44 0 38.6274 0 32V12Z"
            fill="#FFA216"
          />
          <path
            d="M32 31.25C32 31.66 31.66 32 31.25 32H12.75C12.34 32 12 31.66 12 31.25C12 30.84 12.34 30.5 12.75 30.5H31.25C31.66 30.5 32 30.84 32 31.25Z"
            fill="white"
          />
          <path
            d="M25.3899 14.5198L14.6499 25.2598C14.2399 25.6698 13.5799 25.6698 13.1799 25.2598H13.1699C11.7799 23.8598 11.7799 21.5998 13.1699 20.2098L20.3199 13.0598C21.7199 11.6598 23.9799 11.6598 25.3799 13.0598C25.7899 13.4498 25.7899 14.1198 25.3899 14.5198Z"
            fill="white"
          />
          <path
            d="M30.8199 18.4903L27.7699 15.4403C27.3599 15.0303 26.6999 15.0303 26.2999 15.4403L15.5599 26.1803C15.1499 26.5803 15.1499 27.2403 15.5599 27.6503L18.6099 30.7103C20.0099 32.1003 22.2699 32.1003 23.6699 30.7103L30.8099 23.5603C32.2299 22.1603 32.2299 19.8903 30.8199 18.4903ZM22.7599 27.5203L21.5499 28.7403C21.2999 28.9903 20.8899 28.9903 20.6299 28.7403C20.3799 28.4903 20.3799 28.0803 20.6299 27.8203L21.8499 26.6003C22.0899 26.3603 22.5099 26.3603 22.7599 26.6003C23.0099 26.8503 23.0099 27.2803 22.7599 27.5203ZM26.7299 23.5503L24.2899 26.0003C24.0399 26.2403 23.6299 26.2403 23.3699 26.0003C23.1199 25.7503 23.1199 25.3403 23.3699 25.0803L25.8199 22.6303C26.0599 22.3903 26.4799 22.3903 26.7299 22.6303C26.9799 22.8903 26.9799 23.3003 26.7299 23.5503Z"
            fill="white"
          />
        </svg>
      ),
      url: '/profile/orders?sort=Awaiting',
    },
    {
      label: 'در حال انجام',
      count: orderStatusCounts?.find((item) => item._id === 'Doing')?.count ?? '0',
      color: '#0C0C0C',
      icon: (
        <svg
          width="44"
          height="44"
          viewBox="0 0 44 44"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 12C0 5.37258 5.37258 0 12 0H32C38.6274 0 44 5.37258 44 12V32C44 38.6274 38.6274 44 32 44H12C5.37258 44 0 38.6274 0 32V12Z"
            fill="#616A76"
          />
          <path
            d="M32 25C32 28.87 28.87 32 25 32L26.05 30.25"
            stroke="white"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M12 19C12 15.13 15.13 12 19 12L17.95 13.75"
            stroke="white"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M32 14.2V14.31C32 14.59 31.78 14.81 31.5 14.81H22.5C22.22 14.81 22 14.59 22 14.31V14.2C22 12.44 22.44 12 24.22 12H29.78C31.56 12 32 12.44 32 14.2Z"
            fill="white"
          />
          <path
            d="M22.5 15.8096C22.22 15.8096 22 16.0296 22 16.3096V17.3096V18.2996C22 20.0596 22.44 20.4996 24.22 20.4996H29.78C31.56 20.4996 32 20.0596 32 18.2996V17.3096V16.3096C32 16.0296 31.78 15.8096 31.5 15.8096H22.5Z"
            fill="white"
          />
          <path
            d="M22 25.7V25.81C22 26.09 21.78 26.31 21.5 26.31H12.5C12.22 26.31 12 26.09 12 25.81V25.7C12 23.94 12.44 23.5 14.22 23.5H19.78C21.56 23.5 22 23.94 22 25.7Z"
            fill="white"
          />
          <path
            d="M12.5 27.3096C12.22 27.3096 12 27.5296 12 27.8096V28.8096V29.7996C12 31.5596 12.44 31.9996 14.22 31.9996H19.78C21.56 31.9996 22 31.5596 22 29.7996V28.8096V27.8096C22 27.5296 21.78 27.3096 21.5 27.3096H12.5Z"
            fill="white"
          />
        </svg>
      ),
      url: '/profile/orders?sort=Doing',
    },
    {
      label: 'تحویل به پست',
      count: orderStatusCounts?.find((item) => item._id === 'Delivery')?.count ?? '0',
      color: '#0ABF8C',
      icon: (
        <svg
          width="44"
          height="44"
          viewBox="0 0 44 44"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 12C0 5.37258 5.37258 0 12 0H32C38.6274 0 44 5.37258 44 12V32C44 38.6274 38.6274 44 32 44H12C5.37258 44 0 38.6274 0 32V12Z"
            fill="#0ABF8C"
          />
          <path
            d="M21.4556 12.0377C22.3988 11.9078 23.3864 12.1253 24.1828 12.6475C25.3688 13.4069 26.0897 14.8267 25.9922 16.233C25.9247 17.7077 24.9577 19.0891 23.6011 19.6675C22.5609 20.1241 21.3253 20.1105 20.2992 19.6202C19.1789 19.1022 18.3328 18.0372 18.0863 16.8269C17.8533 15.7366 18.1003 14.5525 18.7617 13.653C19.3903 12.7778 20.3878 12.1806 21.4556 12.0377ZM23.0963 14.7081C22.597 15.3916 22.1086 16.0834 21.6113 16.7683C21.33 16.5475 21.0652 16.3061 20.7806 16.09C20.5795 15.9381 20.2725 15.9864 20.1173 16.1814C19.9397 16.3806 19.9706 16.7167 20.1792 16.8822C20.5781 17.2197 20.9803 17.5534 21.383 17.8863C21.5944 18.0691 21.9469 18.0222 22.1058 17.7934C22.7053 16.9713 23.2959 16.1416 23.8922 15.3166C24.0445 15.1253 24.038 14.8291 23.8641 14.6538C23.6616 14.4274 23.2655 14.4564 23.0963 14.7081Z"
            fill="white"
          />
          <path
            d="M13.8142 21.0358C13.8826 21.0076 13.9581 21.0043 14.0312 21.0011C19.344 21.0006 24.6568 21.0006 29.9697 21.0011C30.1829 20.9865 30.3812 21.122 30.4651 21.3147C30.9587 22.3047 31.4561 23.2933 31.9478 24.2837C32.1123 24.5875 31.8662 24.999 31.5203 24.9925C28.8615 24.9981 26.2028 24.9925 23.544 24.9953C23.3378 25.0098 23.1348 24.894 23.0486 24.7056C22.704 24.0278 22.3717 23.3434 22.0229 22.6679C22.0117 22.6675 21.9897 22.6665 21.9789 22.6656C21.6245 23.3523 21.2889 24.0489 20.9354 24.7361C20.8478 24.9123 20.6495 25.0075 20.4568 24.9953C17.7981 24.9925 15.1389 24.9981 12.4801 24.9925C12.1351 24.9995 11.8857 24.5865 12.0526 24.2837C12.5448 23.2933 13.0426 22.3051 13.5353 21.3147C13.5934 21.1937 13.6853 21.0831 13.8142 21.0358Z"
            fill="white"
          />
          <path
            d="M20.9276 25.7536C21.1264 25.3894 21.2933 25.0083 21.4953 24.6455C21.5065 27.0966 21.5 29.5482 21.4986 31.9993C19.0095 32.0035 16.5205 32.0011 14.0319 32.0007C13.7422 32.0218 13.4801 31.7602 13.5012 31.4705C13.504 29.6471 13.4923 27.8232 13.5073 25.9997C15.823 26.003 18.1386 26.0002 20.4542 26.0016C20.6422 26.011 20.8362 25.9229 20.9276 25.7536ZM14.8423 28.5286C14.3745 28.6552 14.4101 29.4043 14.8883 29.4863C15.4147 29.521 15.9453 29.4929 16.4736 29.5008C16.7365 29.5163 16.9883 29.3002 16.9972 29.0339C17.0286 28.7438 16.7572 28.4789 16.4694 28.5019C15.928 28.5164 15.3805 28.4672 14.8423 28.5286ZM14.8423 30.0286C14.3558 30.1599 14.4223 30.9474 14.9253 30.9929C16.1126 31.0121 17.3014 30.9971 18.4892 31.0004C18.8126 31.0172 19.0836 30.6699 18.9795 30.361C18.9115 30.1069 18.6411 29.9719 18.3912 30C17.209 30.0207 16.0208 29.9644 14.8423 30.0286Z"
            fill="white"
          />
          <path
            d="M22.506 24.6455C22.7071 25.0088 22.8763 25.3885 23.0722 25.7546C23.1622 25.9261 23.3591 26.011 23.5471 26.0011C25.8627 26.0002 28.1788 26.003 30.4944 26.0002C30.508 27.8232 30.4986 29.6471 30.4996 31.4705C30.5202 31.7602 30.2596 32.0213 29.9699 32.0007C27.4808 32.0011 24.9918 32.0035 22.5027 31.9993C22.5013 29.5482 22.4947 27.0966 22.506 24.6455ZM25.8139 28.5375C25.6194 28.6163 25.4882 28.8216 25.5013 29.0325C25.5027 29.5327 25.4938 30.0338 25.5055 30.5339C25.5116 30.8002 25.7657 31.0163 26.0277 31.0008C27.0149 31.0013 28.0021 31.0022 28.9893 31.0004C29.2644 31.0116 29.511 30.765 29.4997 30.4894C29.5002 29.9869 29.5044 29.4835 29.4974 28.981C29.4964 28.6721 29.1838 28.4583 28.8913 28.5C27.8671 28.5263 26.8316 28.4527 25.8139 28.5375Z"
            fill="white"
          />
          <path
            d="M26.501 29.5017C27.1675 29.5013 27.8341 29.4999 28.5002 29.5027C28.5011 29.6682 28.5011 29.8346 28.4997 30.0005C27.8336 30.0024 27.168 30.001 26.5019 30.0014C26.4996 29.8346 26.4996 29.6682 26.501 29.5017Z"
            fill="white"
          />
        </svg>
      ),
      url: '/profile/orders?sort=Delivery',
    },
    {
      label: 'لغو شده',
      count: orderStatusCounts?.find((item) => item._id === 'Canceled')?.count ?? '0',
      color: '#ED2E2E',
      icon: (
        <svg
          width="44"
          height="44"
          viewBox="0 0 44 44"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 12C0 5.37258 5.37258 0 12 0H32C38.6274 0 44 5.37258 44 12V32C44 38.6274 38.6274 44 32 44H12C5.37258 44 0 38.6274 0 32V12Z"
            fill="#ED2E2E"
          />
          <path
            d="M20.5391 12.0835C21.17 11.7122 21.8005 11.3405 22.4323 10.9697C24.6702 12.2719 26.8967 13.5947 29.1303 14.9049C28.5228 15.2818 27.8994 15.6333 27.2848 15.9985C27.2248 16.0486 27.1602 15.9797 27.1062 15.9563C24.92 14.6607 22.7225 13.3833 20.5391 12.0835Z"
            fill="white"
          />
          <path
            d="M18.3823 13.3554C18.8515 13.0737 19.324 12.7971 19.7975 12.5225C22.0306 13.8331 24.2628 15.1456 26.4922 16.4628C26.0244 16.7445 25.5519 17.0187 25.0808 17.2953C22.8439 15.9893 20.6131 14.6721 18.3823 13.3554Z"
            fill="white"
          />
          <path
            d="M15.7412 14.9086C16.3731 14.5345 17.005 14.1595 17.6411 13.792C19.8742 15.1026 22.1073 16.4142 24.3353 17.7332C23.702 18.1059 23.0715 18.4846 22.4331 18.8493C20.2028 17.5354 17.9692 16.2267 15.7412 14.9086Z"
            fill="white"
          />
          <path
            d="M15.3762 15.5684C17.5699 16.8476 19.7533 18.1451 21.9452 19.428C21.9893 19.4627 22.0722 19.4876 22.0596 19.5598C22.0615 22.1665 22.061 24.7732 22.0596 27.3799C19.8288 26.0735 17.6027 24.7596 15.3752 23.448C15.3729 20.8216 15.3715 18.1948 15.3762 15.5684Z"
            fill="white"
          />
          <path
            d="M27.6155 16.6699C28.245 16.3057 28.8675 15.9302 29.4975 15.5674C29.4994 18.1943 29.4994 20.8211 29.4975 23.448C27.2709 24.7629 25.0415 26.0744 22.8108 27.3822C22.8136 24.7539 22.8051 22.1247 22.815 19.4964C23.4445 19.128 24.0712 18.7549 24.7017 18.3883C24.7055 19.3268 24.6965 20.2652 24.7059 21.2036C24.7092 21.4647 25.0312 21.6396 25.2539 21.5055C25.9561 21.0986 26.6536 20.6829 27.3539 20.2732C27.4828 20.2043 27.6042 20.0866 27.6023 19.9296C27.6169 18.8435 27.593 17.756 27.6155 16.6699Z"
            fill="white"
          />
          <path
            d="M25.4458 17.9602C25.9052 17.6644 26.3852 17.3995 26.8558 17.1211C26.8591 17.978 26.8558 18.8348 26.8577 19.6917C26.3931 19.9744 25.9239 20.25 25.4514 20.5195C25.4435 19.6664 25.4542 18.8133 25.4458 17.9602Z"
            fill="white"
          />
          <path
            d="M31.8401 26.9617C32.0088 26.7695 32.3487 27.0165 32.2118 27.2345C31.3774 28.4415 30.3345 29.5033 29.1546 30.3742C26.5517 32.3012 23.2442 33.2542 20.0149 32.9889C18.3682 32.8595 16.751 32.4203 15.2567 31.72C15.147 32.0022 15.1123 32.3214 14.9524 32.5792C14.7288 32.7597 14.5352 32.4681 14.3871 32.3308C13.1632 31.0454 12.1179 29.485 11.7992 27.7117C11.7607 27.497 11.6768 27.0789 12.0167 27.0943C13.3226 27.6236 14.7448 27.7806 16.144 27.8148C16.287 27.805 16.4201 27.9475 16.3812 28.0904C16.2931 28.4265 16.1768 28.7551 16.0737 29.0875C16.1431 29.1339 16.2162 29.1761 16.2935 29.2098C19.4135 30.669 23.0637 30.812 26.3548 29.8708C28.3573 29.2914 30.236 28.2929 31.8401 26.9617Z"
            fill="white"
          />
        </svg>
      ),
      url: '/profile/orders?sort=Canceled',
    },
  ];

  return (
    <div
      className={`] relative mr-auto w-[95%] space-y-4 rounded-2xl border-[#E4E7E9] lg:mr-0 lg:w-full lg:max-w-full lg:border lg:bg-white lg:p-[16px] ${className}`}
    >
      <p className="font-medium text-[18px] text-[#0C0C0C]">سفارش ‌های من</p>

      {/* waiting */}
      <div className="custom_scroll_gallery flex items-center gap-3 overflow-auto">
        {newArray.map((item, idx) => (
          <Button
            key={idx}
            onClick={() => router.push(`${item.url}`)}
            className="flex !h-fit !w-[186px] min-w-full items-start gap-4 rounded-lg border border-[#E4E7E9] bg-white p-[12px] lg:!w-[228px] lg:rounded-2xl"
          >
            <span>{item.icon}</span>
            <div className="space-y-2">
              <p
                style={{ color: item.color }}
                className="whitespace-nowrap font-medium text-[14px]"
              >
                {item.label}
              </p>
              <p className="flex items-center gap-2">
                <span className="font-medium text-xl text-[#0C0C0C]">{item.count}</span>
                <span className="font-regular text-[12px] text-[#0C0C0C]">سفارش</span>
              </p>
            </div>
          </Button>
        ))}
      </div>
    </div>
  );
};

export default RingkasanOrder;
